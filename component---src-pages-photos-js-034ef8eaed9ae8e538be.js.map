{"version":3,"file":"component---src-pages-photos-js-034ef8eaed9ae8e538be.js","mappings":"mJAQA,IANkB,kBAChB,uBAAKA,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAClC,wBAAMC,EAAE,8D,yFCuBZ,EAxBgB,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,eAAgBC,EAAsB,EAAtBA,gBAMzC,OACE,gCACE,uBAAKC,UAAU,WACZH,EAAOI,QAAQC,MAAMC,KAAI,SAACC,EAAMC,GAAP,OACxB,uBACEL,UAAU,iBACVM,IAAKD,EACLE,MAAO,CACLC,gBAAgB,OAAQJ,EAAKK,KAAKC,mBAAmB,GAAGC,MAAMC,YAA/C,KAEjBC,QAAS,kBAfC,SAAAR,GAClBP,EAAe,WACfC,EAAgBM,GAaOS,CAAYT,Y,UCXvC,EANiB,kBACf,uBAAKZ,MAAM,KAAKC,OAAO,KAAKC,QAAQ,aAClC,wBAAMC,EAAE,8D,mBCsEZ,EApEiB,SAAC,GAMX,IALLC,EAKI,EALJA,OACAkB,EAII,EAJJA,aACAC,EAGI,EAHJA,YACAlB,EAEI,EAFJA,eACAC,EACI,EADJA,gBAEMkB,EAAqB,SAAAC,GACP,KAAdA,EAAEC,SAAgC,KAAdD,EAAEC,SACxBC,IAEgB,KAAdF,EAAEC,SACJE,IAEgB,KAAdH,EAAEC,SACJG,KAIJC,EAAAA,WAAgB,WAEd,OADAC,OAAOC,iBAAiB,UAAWR,GAC5B,WACLO,OAAOE,oBAAoB,UAAWT,MAEvC,CAACA,IAEJ,IAAMK,EAAiB,WAEjBxB,EADY,WAAhBkB,EACmB,UACA,WAGfK,EAAa,WAEbtB,EADa,IAAjBgB,EACoBlB,EAAOI,QAAQC,MAAMyB,OAAS,EAC9B,SAAAC,GAAS,OAAIA,EAAY,KAGzCR,EAAa,WACjBL,IAAiBlB,EAAOI,QAAQC,MAAMyB,OAAS,EAC3C5B,EAAgB,GAChBA,GAAgB,SAAA6B,GAAS,OAAIA,EAAY,MAG/C,OACE,uBAAK5B,UAAS,aAAegB,EAAea,UAAWZ,GACrD,uBAAKjB,UAAU,eAAea,QAASS,IACvC,uBAAKtB,UAAU,qBACb,0BAAQA,UAAU,qBAAqBa,QAASQ,GAC9C,gBAAC,EAAD,OAEF,uBACErB,UAAU,gBACVO,MAAO,CACLC,gBAAgB,OAAQX,EAAOI,QAAQC,MAAMa,GAAcN,KAAKC,mBAAmB,GAAGC,MAAMC,YAA7E,OAGnB,0BAAQZ,UAAU,sBAAsBa,QAASO,GAC/C,gBAACU,EAAA,EAAD,QAGJ,0BAAQ9B,UAAU,sBAAsBa,QAASS,GAC/C,gBAACS,EAAA,EAAD,SCTR,EAnDmB,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACpB,EAAsCT,EAAAA,SAAe,UAA9CP,EAAP,KAAoBlB,EAApB,KACA,EAAwCyB,EAAAA,SAAe,GAAhDR,EAAP,KAAqBhB,EAArB,KAEA,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAKkC,MAAM,0DACX,uBAAKjC,UAAU,UACb,uCACA,gBAAC,EAAD,CACEH,OAAQmC,EACRlC,eAAgBA,EAChBiB,aAAcA,EACdhB,gBAAiBA,IAEnB,gBAAC,EAAD,CACEF,OAAQmC,EACRhB,YAAaA,EACblB,eAAgBA,EAChBiB,aAAcA,EACdhB,gBAAiBA","sources":["webpack://gatsby-starter-default/./src/components/icons/RightIcon.jsx","webpack://gatsby-starter-default/./src/components/Gallery/Gallery.jsx","webpack://gatsby-starter-default/./src/components/icons/LeftIcon.jsx","webpack://gatsby-starter-default/./src/components/Carousel/Carousel.jsx","webpack://gatsby-starter-default/./src/pages/photos.js"],"sourcesContent":["import * as React from \"react\"\n\nconst RightIcon = () => (\n  <svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\">\n    <path d=\"M17.17 32.92l9.17-9.17-9.17-9.17L20 11.75l12 12-12 12z\"></path>\n  </svg>\n)\n\nexport default RightIcon\n","import * as React from \"react\"\nimport \"./Gallery.scss\"\n\nconst Gallery = ({ images, setViewerState, setCurrentIndex }) => {\n  const handleClick = index => {\n    setViewerState(\"visible\")\n    setCurrentIndex(index)\n  }\n\n  return (\n    <>\n      <div className=\"gallery\">\n        {images.allFile.edges.map((edge, index) => (\n          <div\n            className=\"gallery__image\"\n            key={index}\n            style={{\n              backgroundImage: `url(${edge.node.childrenImageSharp[0].fluid.originalImg})`,\n            }}\n            onClick={() => handleClick(index)}\n          ></div>\n        ))}\n      </div>\n    </>\n  )\n}\n\nexport default Gallery\n","import * as React from \"react\"\n\nconst LeftIcon = () => (\n  <svg width=\"48\" height=\"48\" viewBox=\"0 0 48 48\">\n    <path d=\"M30.83 32.67l-9.17-9.17 9.17-9.17L28 11.5l-12 12 12 12z\"></path>\n  </svg>\n)\n\nexport default LeftIcon\n","import * as React from \"react\"\nimport LeftIcon from \"../icons/LeftIcon\"\nimport RightIcon from \"../icons/RightIcon\"\nimport CrossIcon from \"../icons/CrossIcon\"\nimport \"./Carousel.scss\"\n\nconst Carousel = ({\n  images,\n  currentIndex,\n  viewerState,\n  setViewerState,\n  setCurrentIndex,\n}) => {\n  const handleUserKeyPress = e => {\n    if (e.keyCode === 32 || e.keyCode === 39) {\n      handleNext()\n    }\n    if (e.keyCode === 37) {\n      handlePrev()\n    }\n    if (e.keyCode === 27) {\n      handleCarousel()\n    }\n  }\n\n  React.useEffect(() => {\n    window.addEventListener(\"keydown\", handleUserKeyPress)\n    return () => {\n      window.removeEventListener(\"keydown\", handleUserKeyPress)\n    }\n  }, [handleUserKeyPress])\n\n  const handleCarousel = () => {\n    viewerState === \"hidden\"\n      ? setViewerState(\"visible\")\n      : setViewerState(\"hidden\")\n  }\n\n  const handlePrev = () => {\n    currentIndex === 0\n      ? setCurrentIndex(images.allFile.edges.length - 1)\n      : setCurrentIndex(prevIndex => prevIndex - 1)\n  }\n\n  const handleNext = () => {\n    currentIndex === images.allFile.edges.length - 1\n      ? setCurrentIndex(0)\n      : setCurrentIndex(prevIndex => prevIndex + 1)\n  }\n\n  return (\n    <div className={`carousel--${viewerState}`} onKeyDown={handleUserKeyPress}>\n      <div className=\"carousel__bg\" onClick={handleCarousel}></div>\n      <div className=\"carousel__content\">\n        <button className=\"btn carousel__left\" onClick={handlePrev}>\n          <LeftIcon />\n        </button>\n        <div\n          className=\"current-image\"\n          style={{\n            backgroundImage: `url(${images.allFile.edges[currentIndex].node.childrenImageSharp[0].fluid.originalImg})`,\n          }}\n        ></div>\n        <button className=\"btn carousel__right\" onClick={handleNext}>\n          <RightIcon />\n        </button>\n      </div>\n      <button className=\"btn carousel__close\" onClick={handleCarousel}>\n        <CrossIcon />\n      </button>\n    </div>\n  )\n}\n\nexport default Carousel\n","import * as React from \"react\"\nimport Layout from \"../components/layout\"\nimport { graphql } from \"gatsby\"\nimport Gallery from \"../components/Gallery/Gallery\"\nimport Seo from \"../components/seo\"\nimport \"./styles/photos.scss\"\nimport Carousel from \"../components/Carousel/Carousel\"\n\nconst PhotosPage = ({ data }) => {\n  const [viewerState, setViewerState] = React.useState(\"hidden\")\n  const [currentIndex, setCurrentIndex] = React.useState(0)\n\n  return (\n    <Layout>\n      <Seo title=\"Мои фото | Ведущий Алексей Горбунов. +7 985 644 64 89\" />\n      <div className=\"photos\">\n        <h1>Мои фото:</h1>\n        <Gallery\n          images={data}\n          setViewerState={setViewerState}\n          currentIndex={currentIndex}\n          setCurrentIndex={setCurrentIndex}\n        />\n        <Carousel\n          images={data}\n          viewerState={viewerState}\n          setViewerState={setViewerState}\n          currentIndex={currentIndex}\n          setCurrentIndex={setCurrentIndex}\n        />\n      </div>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query MyQuery {\n    allFile(\n      filter: {\n        extension: { regex: \"/(jpg)/\" }\n        relativeDirectory: { eq: \"photo-gallery\" }\n      }\n    ) {\n      edges {\n        node {\n          base\n          childrenImageSharp {\n            fluid(maxWidth: 2400) {\n              srcWebp\n              originalImg\n              originalName\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default PhotosPage\n"],"names":["width","height","viewBox","d","images","setViewerState","setCurrentIndex","className","allFile","edges","map","edge","index","key","style","backgroundImage","node","childrenImageSharp","fluid","originalImg","onClick","handleClick","currentIndex","viewerState","handleUserKeyPress","e","keyCode","handleNext","handlePrev","handleCarousel","React","window","addEventListener","removeEventListener","length","prevIndex","onKeyDown","RightIcon","CrossIcon","data","title"],"sourceRoot":""}